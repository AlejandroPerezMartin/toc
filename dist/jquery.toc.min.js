/*!
 * toc - jQuery Table of Contents Plugin
 * v0.1.1
 * http://projects.jga.me/toc/
 * copyright Greg Allen 2013
 * MIT License
*/
(function(t){t.fn.toc=function(e){var r,n=this,o=t.extend({},jQuery.fn.toc.defaults,e),i=t(o.container),a=t(o.selectors,i),l=[],s=o.prefix+"-active",c=function(){for(var e=0,r=arguments.length;r>e;e++){var n=arguments[e],o=t(n);if(o.scrollTop()>0)return o;o.scrollTop(1);var i=o.scrollTop()>0;if(o.scrollTop(0),i)return o}return[]},f=c(o.container,"body","html"),h=function(e){if(o.smoothScrolling){e.preventDefault();var r=t(e.target).attr("href"),i=t(r);f.animate({scrollTop:i.offset().top},400,"swing",function(){location.hash=r})}t("li",n).removeClass(s),t(e.target).parent().addClass(s)},u=function(){r&&clearTimeout(r),r=setTimeout(function(){for(var e,r=t(window).scrollTop(),i=0,a=l.length;a>i;i++)if(l[i]>=r){t("li",n).removeClass(s),e=t("li:eq("+(i-1)+")",n).addClass(s),o.onHighlight(e);break}},50)};return o.highlightOnScroll&&(t(window).bind("scroll",u),u()),this.each(function(){var e=t(this),r=t("<ul/>");a.each(function(n,i){var a=t(i);l.push(a.offset().top-o.highlightOffset),t("<span/>").attr("id",o.anchorName(n,i,o.prefix)).insertBefore(a);var s=t("<a/>").text(o.headerText(n,i,a)).attr("href","#"+o.anchorName(n,i,o.prefix)).bind("click",function(r){h(r),e.trigger("selected",t(this).attr("href"))}),c=t("<li/>").addClass(o.itemClass(n,i,a,o.prefix)).append(s);r.append(c)}),e.html(r)})},jQuery.fn.toc.defaults={container:"body",selectors:"h1,h2,h3",smoothScrolling:!0,prefix:"toc",onHighlight:function(){},highlightOnScroll:!0,highlightOffset:100,anchorName:function(t,e,r){return r+t},headerText:function(t,e,r){return r.text()},itemClass:function(t,e,r,n){return n+"-"+r[0].tagName.toLowerCase()}}})(jQuery);